<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HelpingHearts</title>
    <link rel="stylesheet" href="../styles/overlord.css" />
    <link rel="stylesheet" href="../styles/userfeed.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body style="background-color: #fff8e7">
    <header>
      <nav class="navbar navbar-light navbar-expand-sm custom-navbar">
        <div class="container-fluid">
          <a href="#" class="navbar-brand mb-0 h1">
            <span style="color: #f6ecec">Helping</span>
            <span style="color: #ff8f80">Hearts</span>
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item">
                <a href="userlisting.html" class="nav-link">Listings</a>
              </li>
              <li class="nav-item">
                <a href="userfeed.html" class="nav-link">Feed</a>
              </li>
              <li class="nav-item">
                <a href="usersearch.html" class="nav-link">Search</a>
              </li>
              <li class="nav-item">
                <a href="userpostcreationpage.html" class="nav-link">Create</a>
              </li>
              <li class="nav-item">
                <a href="message.html" class="nav-link">Message</a>
              </li>
              <li class="nav-item">
                <a href="selfuserprofile.html" class="nav-link">
                  <img id="profile-link" src="../images/github-icon.png" alt="GitHub icon" />
                </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <div class="feed-container">
        <div class="post">
          <a href="otheruserprofile.html" class="no-underline">
            <div class="post-header">
              <img
                src="../images/github-icon.png"
                alt="Profile Picture"
                class="profile-pic"
              />
              <span class="username">EcoVolunteers</span>
            </div>
          </a>
          <img
            src="../images/communityOutreachListingImage.jpg"
            alt="Post Image"
            class="post-image"
          />
          <div class="post-footer">
            <div class="post-actions">
              <label class="container">
                <input type="checkbox" />
                <svg class="checkmark" viewBox="0 0 24 24">
                  <path
                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
                    stroke="#000"
                    fill="none"
                  />
                </svg>
              </label>
              <img
                src="../images/comment.png"
                alt="comment"
                class="icon comment-btn"
                onclick="openModal('post1')"
              />
            </div>
            <span class="likes">100,000 Likes</span>
            <p class="caption">
              Good work today everyone! Thanks to all those who volunteered as
              we planted 1000 trees in a single day! &lt;3
            </p>
          </div>
        </div>
        <!-- Repeat for other posts -->
      </div>
    </main>

    <!-- Modal -->
    <div class="post-modal-container">
      <div id="postModal" class="modal" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
          <div class="modal-body">
            <div class="modal-left">
              <a href="otheruserprofile.html" class="no-underline">
                <div class="modal-header">
                  <img
                    src="../images/github-icon.png"
                    alt="Profile Picture"
                    class="profile-pic"
                  />
                  <span class="username">EcoVolunteers</span>
                </div>
              </a>
              <img
                src="../images/communityOutreachListingImage.jpg"
                alt="Post Image"
                class="modal-image"
              />
            </div>
            <div class="modal-right">
              <div class="comments-container">
                <div class="comments">
                  <div class="comment">
                    <img
                      src="../images/user1.png"
                      alt="User1"
                      class="profile-pic small"
                    />
                    <p><strong>User1:</strong> Great post!</p>
                  </div>
                  <div class="comment">
                    <img
                      src="../images/user2.png"
                      alt="User2"
                      class="profile-pic small"
                    />
                    <p><strong>User2:</strong> Love this!</p>
                  </div>
                  <!-- Repeat for other comments -->
                </div>
              </div>
              <div class="comment-form">
                <input
                  type="text"
                  id="commentInput"
                  placeholder="Add a comment..."
                />
                <button onclick="addComment()">Post</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <div class="footer-wrapper">
        <div class="brand">
          <a href="#" class="navbar-brand mb-0 h1">
            <span style="color: #f6ecec">Helping</span>
            <span style="color: #ff8f80">Hearts</span>
          </a>
        </div>
        <div class="footer-middle">
          <small>HelpingHearts Copyright 2024 IT02 Team 3</small>
        </div>
        <div class="site-map">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a href="userlisting.html" class="nav-link">Listings</a>
            </li>
            <li class="nav-item">
              <a href="userfeed.html" class="nav-link">Feed</a>
            </li>
            <li class="nav-item">
              <a href="usersearch.html" class="nav-link">Search</a>
            </li>
            <li class="nav-item">
              <a href="userpostcreationpage.html" class="nav-link">Create</a>
            </li>
            <li class="nav-item">
              <a href="message.html" class="nav-link">Message</a>
            </li>
          </ul>
        </div>
      </div>
    </footer>
    <script>
      function openModal(postId) {
        document.getElementById("postModal").style.display = "block";
        var posts = document.getElementsByClassName("post-content");
        for (var i = 0; i < posts.length; i++) {
          posts[i].style.display = "none";
        }
        document.getElementById(postId).style.display = "block";
      }

      function closeModal(event) {
        if (event.target.id === "postModal") {
          document.getElementById("postModal").style.display = "none";
        }
      }

      function addComment() {
        var commentInput = document.getElementById("commentInput");
        var commentText = commentInput.value;

        if (commentText.trim() !== "") {
          var newComment = document.createElement("div");
          newComment.className = "comment";
          newComment.innerHTML =
            '<img src="../images/default-user.png" alt="User" class="profile-pic small" /><p><strong>You:</strong> ' +
            commentText +
            "</p>";

          var commentsSection = document.querySelector("#postModal .comments");
          commentsSection.appendChild(newComment);
          commentInput.value = "";
        }
      }
    </script>
    <script src="../scripts/userFeed.js"></script>
  </body>
</html>
